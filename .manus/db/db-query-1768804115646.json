{
  "query": "CREATE TABLE `activityLogs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int,\n\t`adminId` int,\n\t`action` varchar(255) NOT NULL,\n\t`description` text,\n\t`ipAddress` varchar(45),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `activityLogs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `admins` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`email` varchar(320) NOT NULL,\n\t`passwordHash` varchar(255) NOT NULL,\n\t`name` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `admins_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `admins_email_unique` UNIQUE(`email`)\n);\n\nCREATE TABLE `groups` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`groupId` varchar(255) NOT NULL,\n\t`groupName` varchar(500) NOT NULL,\n\t`groupUrl` text NOT NULL,\n\t`isActive` int NOT NULL DEFAULT 1,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `groups_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `packages` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`price` varchar(20) NOT NULL,\n\t`durationDays` int NOT NULL,\n\t`maxGroups` int NOT NULL,\n\t`maxPostsPerDay` int NOT NULL,\n\t`features` text,\n\t`isActive` int NOT NULL DEFAULT 1,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `packages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `payments` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`packageId` int,\n\t`amount` varchar(20) NOT NULL,\n\t`currency` varchar(10) NOT NULL DEFAULT 'USD',\n\t`transactionId` varchar(255),\n\t`paymentMethod` varchar(50) NOT NULL DEFAULT 'paypal',\n\t`status` enum('pending','completed','failed','refunded') NOT NULL DEFAULT 'pending',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `payments_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `postGroups` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`postId` int NOT NULL,\n\t`groupId` int NOT NULL,\n\t`status` enum('pending','posted','failed') NOT NULL DEFAULT 'pending',\n\t`postedAt` timestamp,\n\t`errorMessage` text,\n\tCONSTRAINT `postGroups_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `posts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`content` text NOT NULL,\n\t`spintaxContent` text,\n\t`mediaUrls` text,\n\t`scheduledAt` timestamp,\n\t`status` enum('draft','scheduled','posting','completed','failed') NOT NULL DEFAULT 'draft',\n\t`groupsToPost` text,\n\t`delayBetweenPosts` int DEFAULT 60,\n\t`scheduleType` enum('once','daily','weekly','custom') DEFAULT 'once',\n\t`scheduleConfig` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `posts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `rssFeeds` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`feedUrl` text NOT NULL,\n\t`feedName` varchar(255) NOT NULL,\n\t`isActive` int NOT NULL DEFAULT 1,\n\t`lastFetchedAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `rssFeeds_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `settings` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`settingKey` varchar(255) NOT NULL,\n\t`settingValue` text,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `settings_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `settings_settingKey_unique` UNIQUE(`settingKey`)\n);\n\nALTER TABLE `users` ADD `subscriptionStatus` enum('trial','active','expired','suspended','lifetime') DEFAULT 'trial' NOT NULL;\nALTER TABLE `users` ADD `subscriptionPackageId` int;\nALTER TABLE `users` ADD `subscriptionExpiresAt` timestamp;\nALTER TABLE `users` ADD `trialEndsAt` timestamp;\nALTER TABLE `activityLogs` ADD CONSTRAINT `activityLogs_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `activityLogs` ADD CONSTRAINT `activityLogs_adminId_admins_id_fk` FOREIGN KEY (`adminId`) REFERENCES `admins`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `groups` ADD CONSTRAINT `groups_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `payments` ADD CONSTRAINT `payments_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `payments` ADD CONSTRAINT `payments_packageId_packages_id_fk` FOREIGN KEY (`packageId`) REFERENCES `packages`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `postGroups` ADD CONSTRAINT `postGroups_postId_posts_id_fk` FOREIGN KEY (`postId`) REFERENCES `posts`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `postGroups` ADD CONSTRAINT `postGroups_groupId_groups_id_fk` FOREIGN KEY (`groupId`) REFERENCES `groups`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `posts` ADD CONSTRAINT `posts_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `rssFeeds` ADD CONSTRAINT `rssFeeds_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user T7NM9uRFZ9JAUU6.89a978b42d0c --database 7HQYWuZhbPoPRHRenUq7Ut --execute CREATE TABLE `activityLogs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int,\n\t`adminId` int,\n\t`action` varchar(255) NOT NULL,\n\t`description` text,\n\t`ipAddress` varchar(45),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `activityLogs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `admins` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`email` varchar(320) NOT NULL,\n\t`passwordHash` varchar(255) NOT NULL,\n\t`name` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `admins_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `admins_email_unique` UNIQUE(`email`)\n);\n\nCREATE TABLE `groups` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`groupId` varchar(255) NOT NULL,\n\t`groupName` varchar(500) NOT NULL,\n\t`groupUrl` text NOT NULL,\n\t`isActive` int NOT NULL DEFAULT 1,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `groups_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `packages` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`price` varchar(20) NOT NULL,\n\t`durationDays` int NOT NULL,\n\t`maxGroups` int NOT NULL,\n\t`maxPostsPerDay` int NOT NULL,\n\t`features` text,\n\t`isActive` int NOT NULL DEFAULT 1,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `packages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `payments` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`packageId` int,\n\t`amount` varchar(20) NOT NULL,\n\t`currency` varchar(10) NOT NULL DEFAULT 'USD',\n\t`transactionId` varchar(255),\n\t`paymentMethod` varchar(50) NOT NULL DEFAULT 'paypal',\n\t`status` enum('pending','completed','failed','refunded') NOT NULL DEFAULT 'pending',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `payments_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `postGroups` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`postId` int NOT NULL,\n\t`groupId` int NOT NULL,\n\t`status` enum('pending','posted','failed') NOT NULL DEFAULT 'pending',\n\t`postedAt` timestamp,\n\t`errorMessage` text,\n\tCONSTRAINT `postGroups_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `posts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`content` text NOT NULL,\n\t`spintaxContent` text,\n\t`mediaUrls` text,\n\t`scheduledAt` timestamp,\n\t`status` enum('draft','scheduled','posting','completed','failed') NOT NULL DEFAULT 'draft',\n\t`groupsToPost` text,\n\t`delayBetweenPosts` int DEFAULT 60,\n\t`scheduleType` enum('once','daily','weekly','custom') DEFAULT 'once',\n\t`scheduleConfig` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `posts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `rssFeeds` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`feedUrl` text NOT NULL,\n\t`feedName` varchar(255) NOT NULL,\n\t`isActive` int NOT NULL DEFAULT 1,\n\t`lastFetchedAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `rssFeeds_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `settings` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`settingKey` varchar(255) NOT NULL,\n\t`settingValue` text,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `settings_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `settings_settingKey_unique` UNIQUE(`settingKey`)\n);\n\nALTER TABLE `users` ADD `subscriptionStatus` enum('trial','active','expired','suspended','lifetime') DEFAULT 'trial' NOT NULL;\nALTER TABLE `users` ADD `subscriptionPackageId` int;\nALTER TABLE `users` ADD `subscriptionExpiresAt` timestamp;\nALTER TABLE `users` ADD `trialEndsAt` timestamp;\nALTER TABLE `activityLogs` ADD CONSTRAINT `activityLogs_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `activityLogs` ADD CONSTRAINT `activityLogs_adminId_admins_id_fk` FOREIGN KEY (`adminId`) REFERENCES `admins`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `groups` ADD CONSTRAINT `groups_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `payments` ADD CONSTRAINT `payments_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `payments` ADD CONSTRAINT `payments_packageId_packages_id_fk` FOREIGN KEY (`packageId`) REFERENCES `packages`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `postGroups` ADD CONSTRAINT `postGroups_postId_posts_id_fk` FOREIGN KEY (`postId`) REFERENCES `posts`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `postGroups` ADD CONSTRAINT `postGroups_groupId_groups_id_fk` FOREIGN KEY (`groupId`) REFERENCES `groups`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `posts` ADD CONSTRAINT `posts_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `rssFeeds` ADD CONSTRAINT `rssFeeds_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE cascade ON UPDATE no action;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 15972
}